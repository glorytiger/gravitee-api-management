<!--

    Copyright (C) 2015 The Gravitee team (http://gravitee.io)

    Licensed under the Apache License, Version 2.0 (the "License");
    you may not use this file except in compliance with the License.
    You may obtain a copy of the License at

            http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.

-->

<form [formGroup]="form" (ngSubmit)="onAddOAuth2()">
  <api-plan-form #apiPlanForm formControlName="plan" mode="create" [apiType]="apiType" [planMenuItem]="planMenuItem"></api-plan-form>
  <h1>Create a cache resource</h1>

  <mat-form-field>
    <input matInput placeholder="Cache name" formControlName="cacheName">
  </mat-form-field>

  <mat-form-field>
    <input matInput placeholder="Time to idle (in seconds)" type="number" min="0" formControlName="idleTime">
    <mat-error *ngIf="form.controls['idleTime'].hasError('pattern')">Please enter an Integer</mat-error>
    <mat-hint class="hint-description">
      The maximum number of seconds an element can exist in the cache without being accessed. The element expires at this limit and will no longer be returned from the cache. The default value is 0, which means no 'Time To Idle' (TTI) eviction takes place (infinite lifetime).
    </mat-hint>
  </mat-form-field>

  <mat-form-field>
    <input matInput placeholder="Time to live (in seconds)" type="number" min="0" formControlName="liveTime">
    <mat-error *ngIf="form.controls['liveTime'].hasError('pattern')">Please enter an Integer</mat-error>
    <mat-hint class="hint-description">
      The maximum number of seconds an element can exist in the cache regardless of use. The element expires at this limit and will no longer be returned from the cache. The default value is 0, which means no 'Time To Live' (TTL) eviction takes place (infinite lifetime).
    </mat-hint>
  </mat-form-field>

  <mat-form-field>
    <input matInput placeholder="Max entries on heap" formControlName="maxEntries">
  </mat-form-field>

  <div class="api-creation-v4__step__footer">
    <button
      mat-stroked-button
      gioFormFocusInvalid
      color="primary"
      type="button"
    >
      Cancel
    </button>
    <button
      mat-flat-button
      gioFormFocusInvalid
      color="primary"
      type="button"
    >
      Create my resource
    </button>
  </div>
</form>
